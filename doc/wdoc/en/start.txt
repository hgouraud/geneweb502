GeneWeb - Getting Started

The present chapter holds an introduction to {GeneWeb} with a succinct description of
commands and files, in order to be able to start.

<p>

Warning: this approach supposes that you feel comfortable with the
notions of "files" and "directories" and you are not afraid to type
commands; otherwise, use rather the program [[[gwsetup/gwsetup]]].

<p>

<ul>

<li> <a href="#Int">Introduction</a>

<li> <a href="#Gwc">Command gwc</a>

<li> <a href="#Ged">Command ged2gwb</a>

<li> <a href="#Gee">Command gwb2ged</a>

<li> <a href="#Gwd">Command gwd</a>

<li> <a href="#Csg">Command consang</a>

<li> <a href="#Gwu">Command gwu</a>

<li> <a href="#Cnf">File a.gwf</a>

<li> <a href="#Lex">Directory "lang" - file "lexicon.txt"</a>

<li> <a href="#Lng">Directory "lang" - subdirectories</a>

</ul>

<p>


<a name="Int"></a>
== Introduction ==

To configure and start {GeneWeb}, you must use interactive
commands.  Under Unix, launch an xterm. Under Window 95/NT, click on
"Start", "Programs" and "Commands MSDOS".

<p>

In this window, type the command to go to the directory where you
installed {GeneWeb}:

<ul>

<li> Under Unix, if you installed it for example in "/home/smith/geneweb":
<pre>
     cd /home/smith/geneweb
</pre>

<li> Under Window 95/NT, if you installed it in:
"C:\soft\geneweb":
<pre>
     cd c:\soft\geneweb
</pre>

</ul>

Then go to the subdirectory "gw", by typing:

<pre>
     cd gw
</pre>

All {GeneWeb} commands can be launched with the option -help which
displays the different possible options, with a short explanation.

<p>

For example, if you type:
<pre>
     gwd -help
</pre>

you must see something like this:
<pre>
     Usage: gwd [options] where options are:
       -hd &lt;dir&gt;
	    Directory where the directory lang is installed.
       -bd dir&gt;
	    Directory where the databases are installed.
       -cgi 
	    Force cgi mode.
       -p &lt;number&gt;
	    Select a port number (default = 2317); &gt; 1024 for normal users.
       -wizard &lt;passwd&gt;
	    Set a wizard passord: access to all dates and updating.
       -friend &lt;passwd&gt;
	    Set a friend password: access to all dates.
       -lang &lt;lang&gt;
	    Set a default language (default: fr).
       -only &lt;address&gt;
	    Only inet address accepted.
       -auth &lt;file&gt;
	    Authorization file to restrict access. The file must hold lines
	    of the form "user:password".
       -log &lt;file&gt;
	    Redirect log trace to this file.
       -nolock 
	    Do not lock files before writing.
</pre>

<p>

Some commands are somewhat talkative. You can redirect their display in
a file by ending the command by "&gt;&nbsp;file". Example:
<pre>
     gwd -help &gt; foo.txt
</pre>

<p>

{GeneWeb} databases are directories with the extension ".gwb".


<a name="Gwc"></a>
== Command gwc ==

To use {GeneWeb}, you must create a database. You can do it either
with this command "gwc", or with "ged2gwb", following section.

<p>

The command "gwc", in its simplest usage, creates an empty database: under
{GeneWeb}, you will be able to fill it.

<p>

You must give a name to this base. Any name is available. Preferably,
do not use more than 8 characters.

<p>

For example, if you want to call it "smith", type:

<pre>
     gwc -o smith
</pre>


<a name="Ged"></a>
== Command ged2gwb ==

Another way to create a {GeneWeb} database is to start from a
GEDCOM file.

<p>

The command "ged2gwb" allows you to convert a GEDCOM file into a
{GeneWeb} database.

<p>

The simplest way is to first copy your GEDCOM file in the directory
where you installed {GeneWeb}. Do it with you usual method of
copying files, either with an interactive command, or by moving icons.

<p>

If your GEDCOM file is named, for example, "foo.ged" and you want to
create a base named "smith", type:

<pre>
     ged2gwb foo.ged -o smith
</pre>

<p>

The command is somewhat verbose, especially if it discovers errors in
the GEDCOM file. Ignore these errors in a first stage: your database
will be build even so. If everything is allright, the command must
end by:

<pre>
     *** Ok
</pre>



<a name="Gee"></a>
== Command gwb2ged ==

Before continuing, let us note the reverse command, "gwb2ged",
allowing to rebuild a GEDCOM file from a {GeneWeb} base.


<a name="Gwd"></a>
== Command gwd ==

Once you created a base, with one of the commands "gwc" or "ged2gwb", you can
consult and extend it.

<p>

Always in the interactive window, type:

<pre>
     gwd
</pre>

<p>

This command launches the {GeneWeb} "daemon". The command must
display:

<pre>
     GeneWeb - Copyright (c) 1998-2006 INRIA
     Possible addresses:
	http://localhost:2317/base
	http://127.0.0.1:2317/base
	http://address:2317/base
     where "base" is the name of the database
     Type control C to stop the service
     Ready (day) (hour) port 2317...
</pre>

<p>

Note that you do not see the prompt in the interactive window. This
program is waiting for requests you will send it through your Web
navigator. When it receives one, it treats it and waits again. When
you finish using {GeneWeb}, you can stop it by typing control-C
in the interactive Window.

<p>

Now, you can really start. Since you consult this documentation, you
are using a Web navigator. Take a new window in this navigator and
open the following location. Replace "smith" with the name of your
base. Warning: do not put the complete name (like "c:\geneweb\gw\smith" or
"/home/geneweb/gw/smith"), just "smith".

<pre>
     http://localhost:2317/smith
</pre>

<p>

You must see {GeneWeb}'s welcome page in French.

<p>

[If this does not work, click [[[problem/here]]]]

<p>

Select another language (English, e.g.) in the row of flags at the top
of the page. (There is a way to select a default language different
than French. See <a href="#Cnf">further</a>).

<p>

<ul>
<li>
If you started from a GEDCOM file ("ged2gwb"), you must see at the beginning
the number of persons of your base.

<p>

From there, you can consult it as a classical Web service, clicking on
links and buttons, fill areas, etc. Hint: in a first stage, click on
"Ok" after "All surnames by alphabetic order", then in the new page
which appears: "the whole list". Select a surname, then a person, etc,
and navigate.

</ul>

<p>

<ul>

<li> If you started from an empty base ("gwc"), the welcome page tells
you that the database holds 0 persons.

<p>

The only possible thing to do is create persons and families. Click on
"Add a family". See the chapter: how to make [[[update/modifications]]] in the database.

</ul>

<p>

Meanwhile, you can notice that each time you click on a button or a
link, a trace appears on the interactive window. When you make your
{GeneWeb} [[[server/server]]] work on the network,
you see the requests sent to your base by this way.

<p>

Note that if you type control-C in the interactive window, the service
does not answer any more in your navigator. To restart it, just type
"gwd" again.

<p>

Under Windows, you can simply double-click on the icon of "gwd" to
launch it. It opens an interactive Window where "gwd" displays its
traces. Typing Control-C stops "gwd" and closes the window. Creating a
shortcut of "gwd" on the desk, you can use it very easily.


<a name="Csg"></a>
== Command consang  ==

This command must be launched in the interactive window, like the
others.  If the "gwd" daemon is running, type control-C to stop
it. Another way, if you do not want to stop the daemon, consists on
launching another interactive window, following the instructions of the
introduction above.

<p>

The command "consang" computes the consanguinities in a database. The
displaying of consanguinities is done when consulting the database, in
the personal records and while computing relationships.

<p>

But to have access to it, you must pre-compute the individual
consanguinities of the persons of the database. This is what "consang"
does. If your base's name is "smith", type:

<p>

<pre>
     consang smith
</pre>

<p>

The program will compute some seconds or minutes, depending on the
size of your base, and displaying without stopping the number of
remaining persons to treat. At the end, you have the prompt again
in the interactive window and the individual consanguinities are
recorded.

<p>

During this computing, if you did not stop the daemon, you can absolutely
return to your navigator and consult your base.

<p>

Launch "consang" from time to time, if you made modifications in your
base, especially if they are adding, modification, deletions of
families: the consanguinity depends on the structure of families. If
it changes, the individual consanguinities are not yet available and
you have to recompute them.

<p>

Moreover "consang" makes an internal "cleanup" of the base, necessary
after a certain number of updates.


<a name="Gwu"></a>
== Command gwu ==

This command displays the contents of the base under a text
form. Redirecting this display to a file, it can constitute a saving of
your base.

<p>

If your base is named "smith", and you want to save it in the file "foo.gw",
type:

<p>
<pre>
     gwu smith > foo.gw
</pre>

<p>

Saving your base in different versions and in different files, you can
see the differences using a program to compare text files. This is
particularly interesting if somebody has done modifications of your
base and you want to know which they are.

<p>

This is also a method to reconstitute your base when you take another
version of {GeneWeb}, in the case when the internal representation
of bases has been changed.

<p>

To reconstitute your base, you must use the command "gwc". The saved file
must have the extension ".gw". To build a base named "jones", from the
file "foo.gw", type:

<p>
<pre>
     gwc foo.gw -o jones
</pre>


<a name="Cnf"></a>
== File a.gwf ==

This file holds a configuration template for a database. If your base's
name is "smith", make a copy of "a.gwf" calling it "smith.gwf" and edit
the file "smith.gwf".

<p>

The configurable values are the following:

<ul><li> <strong>body_prop</strong> allows to select a background color
or a background pattern and change the text and links colors. Its syntax
is the HTML syntax accepted in the tag "&lt;body&gt;" before the "&gt;".
See your HTML documentation (or ask a wizard). Example:

<pre>
     body_prop=background=mybackg.jpg vlink=yellow
</pre>

<p>

This applies not only to the welcome page but to all displayed pages for
this base.

</ul>

<p>

<ul><li> <strong>friend_passwd</strong> allows to limit the data
visibility of still living persons, in fact all persons born or
died since less than one century.

<p>

If you set a value to this variable, only persons who have put the
password on the welcome page will have access to these data.

</ul>

<p>

<ul><li> <strong>wizard_passwd</strong> allows to limit the right to
make updates in your base.

<p>

If you set a value to this variable, only persons who have put the
password on the welcome page will have access to modifications.

</ul>

<p>

<ul><li> <strong>wizard_just_friend</strong> allows to forbid the
updating of the database. Put "yes" to do it, "no" to give the
authorization again. It can be useful to put "yes" temporarily, while
you are [[[maint/cleaning up]]] your base.

</ul>

<p>

<ul><li> <strong>default_lang</strong> allows to define a default
language in the welcome page. Without precision, the language is
French. The possible values are: 

"af" (Afrikaans),
"bg" (Bulgarian),
"cs" (Czech),
"ca" (Catalan),
"de" (German),
"da" (Danish),
"en" (English),
"eo" (Esperanto),
"es" (Spanish),
"et" (Estonian),
"fi" (Finnish),
"fr" (French),
"he" (Hebrew),
"is" (Icelandic),
"it" (Italian),
"lv" (Latvian),
"nl" (Dutch),
"no" (Norwegian),
"pl" (Polish),
"pt" (Portuguese),
"pt-br" (Brazilian Portuguese),
"ro" (Romanian),
"ru" (Russian),
"sl" (Slovenian),
"sv" (Swedish),
"zh" (Chinese).

<p>

Note that whatever language is selected by default, you can choose
another one in the welcome page by clicking in the row of flags at the
top of the page.

</ul>

<p>

<ul><li> <strong>can_send_image</strong> allow the "wizards" to send
(and delete) images. In this case in the [[[update#MAJ/update]]] process, they can click on a link
titled [[[update#SndP/send image]]] (and possibly another
one titled [[[update#DelPh/delete image]]]). By default,
it is "no" (no authorization to send images); to allow it, put "yes".

<p>

Warning: the images are recorded in your computer and therefore can
use much disk space, if there are many images sent.

</ul>

<p>

<ul><li> <strong>renamed</strong> allows to indicate that the name of
a database changed. If your site has been consulted much, and your
base is recorded in many personal bookmarks, it is a way to redirect
them to the new base, with the new name. If they attempt to access
it by its old name, they see a page with a link with the same request
to the new name.

</ul>


<a name="Lex"></a>
== Directory "lang" - file "lexicon.txt" ==

This file hold the lexicon of all terms and phrases used in the
program.  For each, there is a translation in each language. If you
want to add a language, choose a code for this language, and add a
line with this code to each translation group you see in the file.

<p>

Moreover, if one of the proposed translations in one of the languages
does not fit you, you can change it.

<p>

When you save the file "lexicon.txt", this will be applied immediately
in the displaying in your browser. Maybe you just have to click on
"reload".


<a name="Lng"></a>
== Directory "lang" - subdirectories ==

Each subdirectory name is a language code. Each holds the default
welcome page for this language: the file is named "start.txt".

<p>

You can change this welcome page for a given database. For the
database "smith" in the language "xx", just make a copy of the file
"start.txt" in the directory "xx" naming it "smith.txt". Then edit
your file "smith.txt" and make adaptations you want. If you want, you
can do that for each language.

<p>

Remark: these files hold HTML code with some particular indications:
% signs followed by a letter. These are macros that "gwd" will replace
by values. For example, "%t" is replaced by the name of the base, "%b"
by the value of "body_prop" of the configuration file, etc.

<p>

The complete description of these macros is given [[[pcustom/here]]].

<p>

<br>
<center>Return to [[[diruse/Directions for Use]]]</center>

