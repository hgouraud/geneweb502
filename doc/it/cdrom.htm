<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
              "http://www.w3.org/TR/REC-html40/loose.dtd">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>CDrom</title>
</head>
<body background="../images/gwback.jpg">
<table border=0 width="100%">
<tr>
<td>
<a href="http://www.geneweb.org/"><img width=96
height=108 src="../images/gwlogo.png" align=left border=0 alt=GeneWeb></a>
</td>
<td align=left>
<h1><font color=#2f6400>GeneWeb - Creare un CD-Rom</font></h1>
</td>
</tr>
</table>
</font>
<br><br>


Potete creare un CD-Rom della vostra base di dati, includendovi il programma <font
color=#2f6400><b>GeneWeb</b></font>; in questo modo potete distribuire la vostra base
e renderla immediatamente utilizzabile.

<p>

Questo capitolo spiega le tappe da seguire per fabbricare il CD-Rom.
Questo tipo di installazione presenta il vantaggio di non richiedere alcuna installazione su hard disk.

<p>

Ecco le operazioni da eseguire:

<p>

<ol>

<li>Effettuate una accurata pulizia della vostra base. Se avete gwsetup, usatelo:
guardate nel "menu principale" per vedere come compiere questa operazione.
La cosa si puo fare in modo interattivo con i comandi gwu e gwc
(gwu crea un file testo sorgente della base e gwc la ricrea a partire da questo file).

<p>

<font size=-1>Nota: questa tappa non &egrave; assolutamente obbligatoria ma vi permette di distribuire
una base ottimizzata in quanto alla memoria utilizzata e in velocità d'accesso.
Ciononostante, se la vostra base viene da un file GEDCOM o un file sorgente  <font
color=#2f6400><b>GeneWeb</b></font> e non avete apportato alcuna modifica, questa tappa diventa inutile.</font>

<p>

<li>Se volete che le consanguineit&agrave; vengano visualizzate nelle pagine personali
e nei calcoli di parentela, utilizzate il programma d'inizializzazione delle cosanguineit&agrave;.
Con gwsetup, andate nel "menu principale". In modo interattivo, si utilizza il comando consang.

<p>

<font size=-1>Notate che anche questa tappa &egrave; facoltativa.
Se non la eseguite, i calcoli di parentela funzioneranno lo stesso ma le consanguineit&agrave non verranno visualizzate.</font>

<p>

<li>Entrate nella base e eseguite un calcolo di parentela qualsiasi,
ad esempio tra padre e figlio.

<p>

<font size=-1>Nota: anche questa tappa &egrave; facoltativa e serve solo ad ottimizzare l'accesso alla base.
In effetti, il primo calcolo di parentela genera un file (chiamato tstab) nella base di dati che permette
di eseguire pi&ugrave; rapidamente i calcoli di parentela seguenti. Se il file non viene creato adesso,
non sar&agrave; possibile farlo quando la base sar&agrave; sul CD-Rom e i calcoli saranno pi&ugrave; lenti.</font>

<p>

<li>Create una directory per gli elementi che metterete
sul CD-Rom. Nelle spiegazioni che seguono, chiameremo questa
 directory "directory di destinazione".

 <p>

<li>Iniziate col trasferire la vostra base dati verso la directory di destinazione.
La base si trova in una directory il cui nome finisce con ".gwb".
Ad esempio, se la vostra base si chiama "pippo", si tratter&agrave; della directory "pippo.gwb".
Questa directory si trova nella directory delle basi
(la cui posizione dipende dalla vostra installazione: Windows, MacOs X, Unix).

<p>

<li>Copiate nella directory di destinazione un file di configurazione.
Se ne avete uno che vi conviene, utilizzatelo, altrimenti createlo.
Il file di configurazione &egrave; un file testo il cui nome termina con ".gwf".
Se la vostra base si chiama "pippo", il file &egrave; "pippo.gwf".
Se c'&egrave; gi&agrave; un file di configurazione, lo troverete nella directory delle basi.

<p>

In questo file, aggiungete una password "mago" fasulla, aggiungendo la linea:

<pre>
wizard_passwd=a
</pre>

<p>

<font size=-1>Nota: questa operazione &egrave; facoltativa ma permette di evitare
che venga proposto un "aggiornamento" nelle pagine personali, aggiornamento
che comunque non si potrebbe fare dato che la base risierer&agrave; su un supporto non modificabile.
Attenzione: se create il file di configurazione, fate in sorta che non abbia l'estensione .txt
che certi sistemi attribuiscono automaticamente a questo tipo di files. L'estensione deve essere .gwf e nient'altro.</font>

<p>

<li>Copiate l'eseguibile "gwd" nella directory di destinazione.
Su certi sistemi, porta l'estensione ".exe". Attenzione: ci possono essere più files che si chiamano
"gwd" nella vostra installazione <font color=#2f6400><b>GeneWeb</b></font>. Nel nostro caso si
tratta di un file piuttosto grosso (1 Mo). Generalmente lo trovate nella directory chiamata "gw".

<p>


<li>8. Copiate nella directory di destinazione le directory "lang",
"etc" e "images" che si devono trovare nella stessa directory
ove si trova l'eseguibile gwd.

<p>

<font size=-1>Nota: queste directories sono obbligatorie. Contengono dei files utilizzati dagwd,
in particolare per le lingue e per la visualizzazione di certe pagine.</font>

<p>

<li>Nella directory "lang" della directory di destinazione,
editate il file chiamato "start.txt" e cancellate il gruppo di linee
che contengono i links per l'accesso "Wizard".
Queste linee cominciano con qualcosa del genere:

<pre>
   &lt;td align=center&gt;[
   af: &lt;a href="%sw=w"&gt;&lt;em&gt;Medewerkers&lt;/em&gt;&lt;/a&gt; toegang&lt;br&gt; (password)
   ca: acc&eacute;s &lt;a href="%sw=w"&gt;&lt;em&gt;administrador&lt;/em&gt;&lt;/a&gt;&lt;br&gt; (clau)
</pre>

e finiscono con:

<pre>
   pl: &lt;a href="%sw=w"&gt;&lt;em&gt;"Wizard"&lt;/em&gt;&lt;/a&gt; dostêp&lt;br&gt; (has³o)
   pt: Entrada &lt;a href="%sw=w"&gt;&lt;em&gt;feiticeiro&lt;/em&gt;&lt;/a&gt;&lt;br&gt; (palavra chave)
   sv: &lt;a href="%sw=w"&gt;&lt;em&gt;Uppdaterings&lt;/em&gt;&lt;/a&gt; tilltr&auml;de&lt;br&gt; (passord)
   ]&lt;br&gt;&lt;/td&gt;
</pre>

<p>

<font size=-1>Questa tappa non &egrave, obbligatoria ma evita che la pagina di benvenuto
proponga un accesso Wizard che, in ogni modo, non servirebbe a nulla.</font>

<p>

<li><b>Tappa importante</b>. L'eseguibile gwd genera dei files nella sua directory corrente.
Se non puo farlo, il programma pu&ograve; bloccarsi (in particolare sotto Windows, si bloccher&agrave; con certezza).
Bisogna quindi indicare un'opzione per fargli usare l'hard disk (questi files non sono grandi,
sono temporanei e cancellarli volontariamente o involontariamente durante
o dopo la visita, non perturber&agrave; il funzionamento di gwd)

<p>
.
Per fare ci&ograve;, create un file testo che chiamerete "gwd.arg"
(attenzione: niente estensioni ".txt" !) e scriveteci dentro:

<pre>
Se preparate un CD-Rom per Windows:
    -wd
    c:\temp\geneweb
Se &egrave; destinato a Unix o MacOs X:
    -wd
    /tmp/geneweb
    </pre>

    <p>

<li>Se la vostra base di dati possiede delle immagini,
mettetele nella directory "images", in una sub-directory che porta il nome
della vostra base ("images/pippo" se la base si chiama "pippo").

<p>

<li>Dopo aver eseguito tutte queste tappe, avrete ottenuto una installazione minima,
che obbliga l'utilizzatore a lanciare lui stesso gwd e ad aprire l'URL per accedere alla base.
Potete migliorare la cosa fornendo dei files HTML e/o degli scripts (shell, batch) che faranno tutto da soli.
 Potete anche allegare pi&ugrave; basi di dati, altri files HTML, ecc.

<p>

<font size=-1>

Non chiedetemi come si fa un CD-Rom che si lancia automaticamente quando
 lo si inserisce sul suo supporto: si dovrebbe poter fare ma non so proprio come.

 <p>

Nota: se volete che la vostra base sia leggibile su dei sistemi operativi diversi da quello che utilizzate,
potete creare una directory per SO e metterci la version di gwd per quel SO.
Dovrete prima scaricare le versioni di <font color=#2f6400><b>GeneWeb</b></font> che girano sui SO
che volete rendere disponibili. Bisogna anche rivedere l'installazione dei files gwd.arg e in particolare
indicare il path verso i files sistema e la base (opzioni -hd e -bd di gwd).

</font>

<p>

<li>Prima di masterizzare il vostro CD, fate un test.
Rendete non modificabile la directory di destinazione e le sub-directories e files che contiene.
Poi, eseguite il comando gwd (con un doppio click se il vostro sistema lo consente oppure usando
un comando interattivo). Lanciate il vostro navigatore web all'indirizzo http://127.0.0.1:2317/pippo
(se la base si chiama "pippo") e verificate che tutto funzioni.

<p>

<li>Se tutto va bene, masterizzate il vostro CD-Rom mettendovi
la directory di destinazione e tutto il suo contenuto.

</ol>

<p>

<p>
<hr>
<br>
<center>Ritorna a <a href="diruse.htm">Istruzioni per l'uso</a></center>

<p><hr><font size=-1><em>Copyright (c) 1998-2006 INRIA -
GeneWeb</em></font><br>

</body>

